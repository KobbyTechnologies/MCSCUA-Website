{% extends 'base.html' %}
{% load static %}
{% block title %} Gallery {% endblock title %}

{% block body %}
<section class="hero">
    <div class="hero__title">
        <h1>Home / Gallery</h1>
    </div>
</section>


<div class="tabs">
    <div class="tabs__head">
        <span class="tabs__toggle is-active">Images</span>
        <span class="tabs__toggle">Videos</span>
        
    </div>
    <div class="tabs__body">
        <div class="tabs__content is-active">
            <div class="tabs__media--container">
                
                {% for photo in photos %}
                <div class="img">
                    <img src="{{ photo.image.url }}" alt="" onclick="openFullMedia(this.src)">
                </div>
                {% endfor %}
                
            </div>
            {% for photo in photos %}
            <!-- full image prieview -->
            <div class="full__media--image" id="fullMediaBox">
                
                <img src="{{ photo.image.url }}" alt="" id="fullMedia">
                
                <div class="caption">
                    <caption>{{ photo.caption | safe }}</caption>
                </div>

                <span onclick="closeFullMedia()"><i class="fa-solid fa-xmark"></i></span>
           </div>
           {% endfor %}
        </div>

        <div class="tabs__content">

            <div class="tabs__media--container">
                {% for video in videos %}
                <div class="video">
                    <video src="{{ video.video.url }}"  onclick="openFullVideo(this.src)"></video>
                </div>
                
                {% endfor %}
            </div>
            
            {% for video in videos %}
            <!-- Full Video preview -->
            <div class="full__media--image" id="fullVideoBox">
    
                <video src="Video.video.url " id="fullMedia" controls></video>

                <div class="caption">
                    <caption>{{ photo.caption | safe }}</caption>
                </div>

                <span onclick="closeFullVideo()"><i class="fa-solid fa-xmark"></i></span>
           </div>
           {% endfor %}
        </div>

        
    </div>
</div>
<script>
    var fullMediaBox = document.getElementById("fullMediaBox");
    var fullMedia = document.getElementById("fullMedia");
    var fullVideoBox = document.getElementById('fullVideoBox')

    function openFullMedia(pic){
        fullMediaBox.style.display = 'flex';
        fullMedia.src = pic;
    }

    function openFullVideo(vid){
        fullVideoBox.style.display = 'flex';
        fullMedia.src = vid;
    }

    function closeFullMedia(){
        fullMediaBox.style.display = 'none';
    }

    function closeFullVideo(){
        fullVideoBox.style.display = 'none';
    }

    
</script>
{% endblock body %}